<html>

<head>
    <script src="pumpkin.js"></script>
    <script src="microphone.js"></script>
    <script>
        function main(){
            myCanvas.width=window.innerWidth; 
            myCanvas.height=window.innerHeight; 

            const pumpkin=new Pumpkin(
                myCanvas.width/2,
                myCanvas.height/2,
                Math.min(myCanvas.width, myCanvas.height)*0.4
            )

            const microphone = new Microphone(); 

            setInterval(function(){
                
                if (microphone.initialized){
                    const openness = microphone.getVolume()*6; 
                    myCanvas.getContext("2d").clearRect(0, 0, myCanvas.width, myCanvas.height);
                    pumpkin.draw(myCanvas.getContext("2d"), openness);

                }

            }, 100)
        }
    </script>
</head>

<body style="margin:0;" onload="main()">

    <canvas id="myCanvas">

    </canvas>
</body>

</html>